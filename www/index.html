<!DOCTYPE html>
  <html ng-app="movies">
    <head>
      <!--Import Google Icon Font-->
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <!--Import materialize.css-->
      <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>

      <title>Movies</title>

      <style>
        #foo {
          position: fixed;
          bottom: 0;
          right: 0;
        }
      </style>

      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

      <script src="angular/angular.min.js"></script>
      <script src="https://connect.facebook.net/en_US/all.js"></script>
      <script src="js/MainCtrl.js"></script>

    </head>

    <body ng-controller="MainCtrl">
      <div id="fb-root"></div>
      <script>
        (function(d, s, id) {
          var js, fjs = d.getElementsByTagName(s)[0];
          if (d.getElementById(id)) return;
          js = d.createElement(s); js.id = id;
          js.src = "//connect.facebook.net/es_LA/sdk.js#xfbml=1&version=v2.5&appId=1712108749000589";
          fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
      </script>
      <div class="navbar-fixed">
        <nav>
        <div class="nav-wrapper">
        <form>
          <div class="input-field">
            <input id="search" type="search" ng-model="searchText" ng-change="search(searchText)" placeholder="Search" required>
            <label for="search"><i class="material-icons">search</i></label>
            <i class="material-icons">close</i>
          </div>
        </form>
        </div>
        </nav>
      </div>
      <div ng-click="logIn()" ng-if="!user.loggedIn" class="fixed-action-btn vertical click-to-toggle" style="bottom: 45px; right: 24px;"><a class="btn-floating btn-large red"><i class="material-icons">perm_identity</i></a>
  </div>
      <div ng-click="logIn()" ng-if="user.loggedIn" class="fixed-action-btn vertical click-to-toggle" style="bottom: 45px; right: 24px;">
    <a class="btn-floating btn-large red"><img src="{{user.image}}" width="65" alt="Contact Person">
    </a>
    <ul>
      <li ng-click="logOut()"><a class="btn-floating red"><i class="material-icons">not_interested</i></a></li>
      <li><a class="btn-floating yellow darken-1"><i class="material-icons">settings</i></a></li>
      <li><a class="btn-floating green"><i class="material-icons">theaters</i></a></li>
      <li ng-click="showWatchlist()"><a class="btn-floating blue"><i class="material-icons">grade</i></a></li>
    </ul>
  </div>
  <div id="Featured">

    <a href="#" data-activates="slide-out" ng-hide="true" class="button-collapse"><i class="mdi-navigation-menu"></i></a>


    <ul id="slide-out" class="side-nav">
      <div class="video-container">
        <iframe width="500" src="{{currentMovie.video}}" frameborder="0" allowfullscreen></iframe>
      </div>
      <div class="row">
        <div class="col s12">
        <img class="right" width="200" src="{{currentMovie.poster}}" onerror="this.src='https://www.utopolis.lu/bundles/utopoliscommon/images/movies/movie-placeholder.jpg'">
        <span class="card-title grey-text text-darken-4"><h2>{{currentMovie.title}}</h2>
        </span>
        <div ng-show="user.loggedIn">
          <div class="col">
            <a><i class="material-icons">grade</i>{{currentMovie.rating}}</a>
          </div>
          <div class="col">
            <a class="waves-effect waves-teal btn-flat">
              <i class="material-icons">add</i>
            </a>
          </div>
          <div class="col">
            <a class="waves-effect waves-teal btn-flat"><i class="material-icons">payment</i></a>
          </div>
          <br>
          <br>
          <br>
        </div>

          <p>{{currentMovie.description}}</p>
            <div class="row" ng-show"item.actors.length !== 0">
              <div class="col s6" ng-repeat="actor in currentMovie.actors">
                <div ng-click="showMoviesByActor(actor.actor.id,actor.actor.name)" class="card">
                  <div class="card-content">
                    <div class="row">
                      <div class="col s4">
                        <img src="{{actor.actor.headshot}}" alt="" height="50" width="50" class="circle">
                      </div>
                      <div class="col s8">
                        <span class="card-title grey-text text-darken-4"><h5>{{actor.actor.name}}</h5></span>
                        <p>{{actor.role}}</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
        </div>
      </div>
        <img src="{{currentMovie.detail}}" onerror="this.src='https://www.utopolis.lu/bundles/utopoliscommon/images/movies/movie-placeholder.jpg'">
  </ul>
	    <div class="container">
        <div class="progress" ng-show="displayAbleMovies.length === 0">
            <div class="indeterminate"></div>
        </div>
	    	<div class="row">
          <div class="col s4" ng-repeat="item in displayAbleMovies">
            <div class="card">
              <div class="card-image waves-effect waves-block waves-light">
                <img ng-click="presentMovie(item)" src="{{item.poster}}" onerror="this.src='https://www.utopolis.lu/bundles/utopoliscommon/images/movies/movie-placeholder.jpg'" height="450" width="300">
              </div>
              <div class="card-content">
                <span ng-click="presentMovie(item)" class="card-title grey-text text-darken-4">{{item.stitle}}<a class="right"><i class="material-icons">grade</i>{{item.rating}}</a></span>
                <p>{{item.short}}</p>
              </div>
              <div ng-show="user.loggedIn" class="card-action">
                <a><i class="material-icons">payment</i></a>
                <a><i class="material-icons">add</i></a>
                <a ng-click="presentMovie(item)"><i class="material-icons right">more_vert</i></a>
              </div>
            </div>
          </div>
	    	</div>
	    </div>
      <div
  class="fb-like"
  data-share="true"
  data-width="450"
  data-show-faces="true">
</div>
	</div>

      <!--Import jQuery before materialize.js-->
      <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
      <script type="text/javascript" src="js/materialize.min.js"></script>
    </body>
  </html>
